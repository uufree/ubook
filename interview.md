# 面试记录

[TOC]

## 2021.10.11 15:00-16:00 

> 校招、后台开发工程师、12A-2204（赤湾）

- 算法：middle，写不出来就pass掉
- 自我介绍：热场
- 项目经历：面试者的项目**偏应用**，且特别标注唯一开发者，故要求：能讲清楚**需求**、**设计思路**、**技术选型**、**编码细节**。基础知识的问题全部穿插至项目中。
  - 长亭科技项目
    - 问题1：讲讲项目内容。要求：能给小白（我）讲清楚做了一件什么事情。
    - 问题2：优化数据处理模块。20s -> 200ms
      - 子问题a：怎么定位？
      - 子问题b：优化思路？
      - 子问题c：为了解决问题做了哪些实验？
    - 问题3：用Go开发简易型内存数据库
      - 子问题a：为什么没有选用Mysql或者Redis这种成熟的组件？
      - 子问题b：设计思路？
    - 问题4：golang基础考察
      - 子问题a：map不经初始化，直接进行存取操作会发生什么事情？get ok，set panic
      - 子问题b：map for range时，能否在遍历中进行delete操作？可以。
      - 子问题d：map的扩容时机和扩容策略是什么？
        - 时机：负载因子>6.5 & bucket数量过多
        - 策略：bucket数量 * 2
      - 子问题e：make和new的区别是什么
        - new：仅分配内存空间，返回指针，不进行初始化
        - make：分配空间&初始化，返回引用。适用于：slice、channel、map
      - 子问题f：对未初始化的channel进行读写，会发生什么？
        - 读：deadlock/panic
        - 写：deadlock/panic
      - 子问题g：对已关闭的channel进行读写，会发生什么？
        - 读：如果channel有值，返回value, true；如果无值，返回zero，false
        - 写：panic
      - 子问题h：goroutine并发控制的几种方式。写伪代码
        - sync.WaitGroup
        - channel
  - 微信服务号统一推送平台
    - 问题1：rpc
      - 子问题a：如果是自己实现：
        - 讲讲实现rpc的设计思路
      - 子问题b：如果采用grpc：
        - rpc接口怎么转http调用？
        - 会不会写proto？常用哪些proto中的数据结构
      - 子问题c：如果采用其他rpc框架
        - 讲讲这个rpc框架怎么使用
  - 王者荣耀分析项目
    - 问题1：这个项目数据存储的特点是什么？读多写少？写多读少？
    - 问题2：为什么选用MongoDB？有考虑其他数据库吗？
    - 问题3：数据量过大、频繁更新导致性能降低。这个是怎么定位到的？
    - 问题4：用过哪些MongoDB的索引。普通索引、复合索引、TTL索引、唯一索引。
    - 问题5：讲讲MongoDB索引的结构。B-树
      - 每个叶子结点都存储数据
      - 叶子结点之间无指针相邻
      - 做单一数据查询的时候，使用B树平均性能更好。但是，由于B树中各节点之间没有指针相邻，因此B树不适合做一些数据遍历操作
      - 非关系型数据库，单一查询较多。
      - https://www.cnblogs.com/rjzheng/p/12316685.html
    - 问题6：讲讲Mysql的索引结构。B+树
      - 数据只出现在叶子结点
      - 所有叶子结点都增加了一个链指针
      - 在做单一数据的查询上，其平均性能并不如B树。但是，B+树的叶子节点上有指针进行相连，因此在做数据遍历的时候，只需要对叶子节点进行遍历即可，这个特性使得B+树非常适合做范围查询
      - 关系型数据库，范围查询较多
      - https://www.cnblogs.com/rjzheng/p/12316685.html
    - 问题7：讲讲MongoDB -> PostgreSQL的数据迁移流程。
    - 问题8：操作系统基础
      - 讲讲Linux进程的内存模型。
      - 进程间通信方式有哪些？
      - 线程间通信有哪些？
      - 父进程派生子进程时，具体发生了哪些事情？
      - 线程切换时，具体发生了哪些事情？
    - 问题9：网络基础
      - 问题1：IO多路复用。Select、Poll、Epoll的区别，讲讲
      - 问题2：TCP和UDP的区别，讲讲
      - 问题3：讲讲Tcp的三次握手和四次挥手
    - 问题10：web基础
      - 问题1：讲讲http和http2的区别
  - 其他
    - 问题1：经历了这么多项目，有熟悉哪些设计模式吗？
    - 问题2：经历了这么多项目，解决过的那个问题给你的印象最深刻